<?php
/** @var Magento\Framework\View\Element\Template $block */
/** @var Superpayments\SuperPayment\ViewModel\MarketingBanner $viewModel */
/** @var \Magento\Framework\Escaper $escaper */

$viewModel = $block->getData('view_model');

if ($viewModel->isSuperPaymentOrder() && $viewModel->getOrderConfirmationBanner()):
    $bannerData = $viewModel->getWebComponentData('order-confirmation', false, true);

    $page   = (string)($bannerData['page'] ?? '');
    $txRef  = (string)($bannerData['transactionReference'] ?? '');
    $email  = (string)($bannerData['email'] ?? '');
    ?>
    <div class="super-container">
        <style>
            .super-container div[style] {
                font-size: 12px;
            }
        </style>
        <super-transaction-rewards
            page="<?= $escaper->escapeHtmlAttr($page); ?>"
            transactionReference="<?= $escaper->escapeHtmlAttr($txRef); ?>"
            email="<?= $escaper->escapeHtmlAttr($email); ?>"
        ></super-transaction-rewards>
    </div>
<?php endif; ?>
